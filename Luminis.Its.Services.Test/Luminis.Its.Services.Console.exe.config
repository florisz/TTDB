<?xml version="1.0" encoding="utf-8" ?>
<configuration>
  <configSections>
    <section name="unity" type="Microsoft.Practices.Unity.Configuration.UnityConfigurationSection, Microsoft.Practices.Unity.Configuration" />
  </configSections>

  <connectionStrings>
    <add name="ItsDb" connectionString="metadata=res://*/Impl.ItsModel.csdl|res://*/Impl.ItsModel.ssdl|res://*/Impl.ItsModel.msl;provider=System.Data.SqlClient;provider connection string=&quot;Data Source=.\SQLEXPRESS;Initial Catalog=ITSData;Integrated Security=True;MultipleActiveResultSets=False&quot;" providerName="System.Data.EntityClient" />
  </connectionStrings>

  <unity>
    <typeAliases>
      <!-- Lifetime manager types -->
      <typeAlias alias="singleton"
           type="Microsoft.Practices.Unity.ContainerControlledLifetimeManager,
               Microsoft.Practices.Unity" />
      <typeAlias alias="perThread"
           type="Microsoft.Practices.Unity.PerThreadLifetimeManager,
               Microsoft.Practices.Unity" />
    </typeAliases>

    <containers>
      <container>
        <types>
          <!-- Services for the REST-call -->
          <type type="Luminis.Its.Services.CaseFiles.ICaseFileService, Luminis.Its.Services.CaseFiles" 
                mapTo="Luminis.Its.Services.CaseFiles.Impl.CaseFileService, Luminis.Its.Services.CaseFiles">
          </type>
          <type type="Luminis.Its.Services.CaseFileSpecifications.ICaseFileSpecificationService, Luminis.Its.Services.CaseFileSpecifications"
                mapTo="Luminis.Its.Services.CaseFileSpecifications.Impl.CaseFileSpecificationService, Luminis.Its.Services.CaseFileSpecifications">
          </type>
          <type type="Luminis.Its.Services.Data.IDataService, Luminis.Its.Services.Data"
                mapTo="Luminis.Its.Services.Data.Impl.DataService, Luminis.Its.Services.Data">
          </type>
          <type type="Luminis.Its.Services.ObjectModels.IObjectModelService, Luminis.Its.Services.ObjectModels"
                mapTo="Luminis.Its.Services.ObjectModels.Impl.ObjectModelService, Luminis.Its.Services.ObjectModels">
          </type>
          <type type="Luminis.Its.Services.Repository.IRepositoryService, Luminis.Its.Services.Repository"
                mapTo="Luminis.Its.Services.Repository.Impl.RepositoryService, Luminis.Its.Services.Repository">
          </type>
          <type type="Luminis.Its.Services.Representations.IRepresentationService, Luminis.Its.Services.Representations"
                mapTo="Luminis.Its.Services.Representations.Impl.RepresentationService, Luminis.Its.Services.Representations">
          </type>
          <type type="Luminis.Its.Services.Resources.IResourceService, Luminis.Its.Services.Resources"
                mapTo="Luminis.Its.Services.Resources.Impl.ResourceService, Luminis.Its.Services.Resources.Impl">
          </type>
          <type type="Luminis.Its.Services.Rest.IRestService, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.RestService, Luminis.Its.Services.Rest">
          </type>
          <type type="Luminis.Its.Services.Rules.IRuleService, Luminis.Its.Services.Rules"
                mapTo="Luminis.Its.Services.Rules.Impl.RuleService, Luminis.Its.Services.Rules">
          </type>

          <type type="Luminis.Its.Services.Representations.IRepresentationTransformer, Luminis.Its.Services.Representations"
                mapTo="Luminis.Its.Services.Representations.Impl.XsltTransformer, Luminis.Its.Services.Representations"
                name="xslt">
          </type>
          <type type="Luminis.Its.Services.Rules.IRuleEngine, Luminis.Its.Services.Rules"
                mapTo="Luminis.Its.Services.Rules.FSharp.FSharpRuleEngine, Luminis.Its.Services.Rules.FSharp"
                name="fsharp">
          </type>

          <!-- General Formatters -->
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.HtmlFormatter, Luminis.Its.Services.Rest"
                name="HistoryHtmlFormatter">
            <typeConfig>
              <constructor>
                <param name="container" parameterType="Luminis.Unity.IUnity, Luminis.Unity">
                  <dependency/>
                </param>
                <param name="xsltResourceName" parameterType="System.String">
                  <value value="scripts/itsbrowserhistory.xslt"/>
                </param>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="TextFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.HtmlFormatter, Luminis.Its.Services.Rest"
                name="ListHtmlFormatter">
            <typeConfig>
              <constructor>
                <param name="container" parameterType="Luminis.Unity.IUnity, Luminis.Unity">
                  <dependency/>
                </param>
                <param name="xsltResourceName" parameterType="System.String">
                  <value value="scripts/itsbrowserlist.xslt"/>
                </param>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="TextFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.HtmlFormatter, Luminis.Its.Services.Rest"
                name="SummaryHtmlFormatter">
            <typeConfig>
              <constructor>
                <param name="container" parameterType="Luminis.Unity.IUnity, Luminis.Unity">
                  <dependency/>
                </param>
                <param name="xsltResourceName" parameterType="System.String">
                  <value value="scripts/itsbrowsersummary.xslt"/>
                </param>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="TextFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.TextFormatter, Luminis.Its.Services.Rest"
                name="TextFormatter"/>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.XmlFormatter, Luminis.Its.Services.Rest"
                name="XmlFormatter"/>

          <!-- CaseFile Commands and Formatters -->
          <type type="Luminis.Its.Services.Rest.Impl.ICommand, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Commands.CaseFiles.GetCaseFileByTimePointCommand, Luminis.Its.Services.Rest"
                name="GETCaseFileTimePointCommand"/>
          <type type="Luminis.Its.Services.Rest.Impl.ICommand, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Commands.CaseFiles.GetCaseFileByVersionCommand, Luminis.Its.Services.Rest"
                name="GETCaseFileVersionCommand"/>
          <type type="Luminis.Its.Services.Rest.Impl.ICommand, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Commands.CaseFiles.GetLatestCaseFileCommand, Luminis.Its.Services.Rest"
                name="GETCaseFileCommand"/>
          <type type="Luminis.Its.Services.Rest.Impl.ICommand, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Commands.CaseFiles.GetCaseFilesCommand, Luminis.Its.Services.Rest"
                name="GETCaseFilesCommand"/>
          <type type="Luminis.Its.Services.Rest.Impl.ICommand, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Commands.CaseFiles.StoreCaseFileCommand, Luminis.Its.Services.Rest"
                name="PUTCaseFileCommand"/>

          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.CaseFiles.CaseFileHistoryFormatter, Luminis.Its.Services.Rest"
                name="CaseFileHistoryHtmlFormatter">
              <typeConfig>
                <constructor>
                  <param name="caseFileService" parameterType="Luminis.Its.Services.CaseFiles.ICaseFileService, Luminis.Its.Services.CaseFiles">
                    <dependency />
                  </param>
                  <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                    <dependency name="HistoryHtmlFormatter"/>
                  </param>
                </constructor>
              </typeConfig>
          </type>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.CaseFiles.CaseFileHistoryFormatter, Luminis.Its.Services.Rest"
                name="CaseFileHistoryXmlFormatter">
              <typeConfig>
                <constructor>
                  <param name="caseFileService" parameterType="Luminis.Its.Services.CaseFiles.ICaseFileService, Luminis.Its.Services.CaseFiles">
                    <dependency />
                  </param>
                  <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                    <dependency name="XmlFormatter"/>
                  </param>
                </constructor>
              </typeConfig>
          </type>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.CaseFiles.CaseFileListFormatter, Luminis.Its.Services.Rest"
                name="CaseFilesHtmlFormatter">
            <typeConfig>
              <constructor>
                <param name="caseFileService" parameterType="Luminis.Its.Services.CaseFiles.ICaseFileService, Luminis.Its.Services.CaseFiles">
                  <dependency />
                </param>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="ListHtmlFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.CaseFiles.CaseFileListFormatter, Luminis.Its.Services.Rest"
                name="CaseFilesXmlFormatter">
            <typeConfig>
              <constructor>
                <param name="caseFileService" parameterType="Luminis.Its.Services.CaseFiles.ICaseFileService, Luminis.Its.Services.CaseFiles">
                  <dependency />
                </param>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="XmlFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.CaseFiles.CaseFileSummaryFormatter, Luminis.Its.Services.Rest"
                name="CaseFileSummaryHtmlFormatter">
            <typeConfig>
              <constructor>
                <param name="caseFileService" parameterType="Luminis.Its.Services.CaseFiles.ICaseFileService, Luminis.Its.Services.CaseFiles">
                  <dependency />
                </param>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="SummaryHtmlFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.CaseFiles.CaseFileSummaryFormatter, Luminis.Its.Services.Rest"
                name="CaseFileSummaryXmlFormatter">
            <typeConfig>
              <constructor>
                <param name="caseFileService" parameterType="Luminis.Its.Services.CaseFiles.ICaseFileService, Luminis.Its.Services.CaseFiles">
                  <dependency />
                </param>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="XmlFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.CaseFiles.CaseFileByRepresentationFormatter, Luminis.Its.Services.Rest"
                name="CaseFileRepresentationFormatter"/>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.CaseFiles.CaseFileXmlFormatter, Luminis.Its.Services.Rest"
                name="CaseFileFormatter">
            <typeConfig>
              <constructor>
                <param name="caseFileService" parameterType="Luminis.Its.Services.CaseFiles.ICaseFileService, Luminis.Its.Services.CaseFiles">
                  <dependency />
                </param>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="XmlFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.CaseFiles.CaseFileEditFormatter, Luminis.Its.Services.Rest"
                name="CaseFileEditXmlFormatter">
            <typeConfig>
              <constructor>
                <param name="caseFileService" parameterType="Luminis.Its.Services.CaseFiles.ICaseFileService, Luminis.Its.Services.CaseFiles">
                  <dependency />
                </param>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="XmlFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.CaseFiles.CaseFileEditFormatter, Luminis.Its.Services.Rest"
                name="CaseFileEditHtmlFormatter">
            <typeConfig>
              <constructor>
                <param name="caseFileService" parameterType="Luminis.Its.Services.CaseFiles.ICaseFileService, Luminis.Its.Services.CaseFiles">
                  <dependency />
                </param>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="XmlFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>
          <!-- CaseFileSpecification Commands and Formatters -->
          <type type="Luminis.Its.Services.Rest.Impl.ICommand, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Commands.CaseFileSpecifications.GetCaseFileSpecificationByTimePointCommand, Luminis.Its.Services.Rest"
                name="GETCaseFileSpecificationTimePointCommand"/>
          <type type="Luminis.Its.Services.Rest.Impl.ICommand, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Commands.CaseFileSpecifications.GetCaseFileSpecificationByVersionCommand, Luminis.Its.Services.Rest"
                name="GETCaseFileSpecificationVersionCommand"/>
          <type type="Luminis.Its.Services.Rest.Impl.ICommand, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Commands.CaseFileSpecifications.GetLatestCaseFileSpecificationCommand, Luminis.Its.Services.Rest"
                name="GETCaseFileSpecificationCommand"/>
          <type type="Luminis.Its.Services.Rest.Impl.ICommand, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Commands.CaseFileSpecifications.GetCaseFileSpecificationsCommand, Luminis.Its.Services.Rest"
                name="GETCaseFileSpecificationsCommand"/>
          <type type="Luminis.Its.Services.Rest.Impl.ICommand, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Commands.CaseFileSpecifications.StoreCaseFileSpecificationCommand, Luminis.Its.Services.Rest"
                name="PUTCaseFileSpecificationCommand"/>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.CaseFileSpecifications.CaseFileSpecificationAssemblyFormatter, Luminis.Its.Services.Rest"
                name="CaseFileSpecification.dllFormatter"/>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.CaseFileSpecifications.CaseFileSpecificationHistoryFormatter, Luminis.Its.Services.Rest"
                name="CaseFileSpecificationHistoryHtmlFormatter">
            <typeConfig>
              <constructor>
                <param name="caseFileSpecificationService" parameterType="Luminis.Its.Services.CaseFileSpecifications.ICaseFileSpecificationService, Luminis.Its.Services.CaseFileSpecifications">
                  <dependency />
                </param>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="HistoryHtmlFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.CaseFileSpecifications.CaseFileSpecificationHistoryFormatter, Luminis.Its.Services.Rest"
                name="CaseFileSpecificationHistoryXmlFormatter">
            <typeConfig>
              <constructor>
                <param name="caseFileSpecificationService" parameterType="Luminis.Its.Services.CaseFileSpecifications.ICaseFileSpecificationService, Luminis.Its.Services.CaseFileSpecifications">
                  <dependency />
                </param>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="XmlFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.CaseFileSpecifications.CaseFileSpecificationListFormatter, Luminis.Its.Services.Rest"
                name="CaseFileSpecificationsHtmlFormatter">
            <typeConfig>
              <constructor>
                <param name="caseFileSpecificationService" parameterType="Luminis.Its.Services.CaseFileSpecifications.ICaseFileSpecificationService, Luminis.Its.Services.CaseFileSpecifications">
                  <dependency />
                </param>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="ListHtmlFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.CaseFileSpecifications.CaseFileSpecificationListFormatter, Luminis.Its.Services.Rest"
                name="CaseFileSpecificationsXmlFormatter">
            <typeConfig>
              <constructor>
                <param name="caseFileSpecificationService" parameterType="Luminis.Its.Services.CaseFileSpecifications.ICaseFileSpecificationService, Luminis.Its.Services.CaseFileSpecifications">
                  <dependency />
                </param>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="XmlFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.CaseFileSpecifications.CaseFileSpecificationSummaryFormatter, Luminis.Its.Services.Rest"
                name="CaseFileSpecificationSummaryHtmlFormatter">
            <typeConfig>
              <constructor>
                <param name="caseFileSpecificationService" parameterType="Luminis.Its.Services.CaseFileSpecifications.ICaseFileSpecificationService, Luminis.Its.Services.CaseFileSpecifications">
                  <dependency />
                </param>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="SummaryHtmlFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.CaseFileSpecifications.CaseFileSpecificationSummaryFormatter, Luminis.Its.Services.Rest"
                name="CaseFileSpecificationSummaryXmlFormatter">
            <typeConfig>
              <constructor>
                <param name="caseFileSpecificationService" parameterType="Luminis.Its.Services.CaseFileSpecifications.ICaseFileSpecificationService, Luminis.Its.Services.CaseFileSpecifications">
                  <dependency />
                </param>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="XmlFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.CaseFileSpecifications.CaseFileSpecificationXmlFormatter, Luminis.Its.Services.Rest"
                name="CaseFileSpecificationFormatter">
            <typeConfig>
              <constructor>
                <param name="caseFileSpecificationService" parameterType="Luminis.Its.Services.CaseFileSpecifications.ICaseFileSpecificationService, Luminis.Its.Services.CaseFileSpecifications">
                  <dependency />
                </param>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="XmlFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.CaseFileSpecifications.CaseFileSpecificationXmlSchemaFormatter, Luminis.Its.Services.Rest"
                name="CaseFileSpecification.xsdFormatter">
            <typeConfig>
              <constructor>
                <param name="caseFileSpecificationService" parameterType="Luminis.Its.Services.CaseFileSpecifications.ICaseFileSpecificationService, Luminis.Its.Services.CaseFileSpecifications">
                  <dependency />
                </param>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="XmlFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>

          <!-- ObjectModel Commands and Formatters -->
          <type type="Luminis.Its.Services.Rest.Impl.ICommand, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Commands.ObjectModels.GetObjectModelByTimePointCommand, Luminis.Its.Services.Rest"
                name="GETObjectModelTimePointCommand"/>
          <type type="Luminis.Its.Services.Rest.Impl.ICommand, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Commands.ObjectModels.GetObjectModelByVersionCommand, Luminis.Its.Services.Rest"
                name="GETObjectModelVersionCommand"/>
          <type type="Luminis.Its.Services.Rest.Impl.ICommand, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Commands.ObjectModels.GetLatestObjectModelCommand, Luminis.Its.Services.Rest"
                name="GETObjectModelCommand"/>
          <type type="Luminis.Its.Services.Rest.Impl.ICommand, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Commands.ObjectModels.GetObjectModelsCommand, Luminis.Its.Services.Rest"
                name="GETObjectModelsCommand"/>
          <type type="Luminis.Its.Services.Rest.Impl.ICommand, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Commands.ObjectModels.StoreObjectModelCommand, Luminis.Its.Services.Rest"
                name="PUTObjectModelCommand"/>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.ObjectModels.ObjectModelHistoryFormatter, Luminis.Its.Services.Rest"
                name="ObjectModelHistoryHtmlFormatter">
            <typeConfig>
              <constructor>
                <param name="objectModelService" parameterType="Luminis.Its.Services.ObjectModels.IObjectModelService, Luminis.Its.Services.ObjectModels">
                  <dependency />
                </param>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="HistoryHtmlFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.ObjectModels.ObjectModelHistoryFormatter, Luminis.Its.Services.Rest"
                name="ObjectModelHistoryXmlFormatter">
            <typeConfig>
              <constructor>
                <param name="objectModelService" parameterType="Luminis.Its.Services.ObjectModels.IObjectModelService, Luminis.Its.Services.ObjectModels">
                  <dependency />
                </param>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="XmlFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.ObjectModels.ObjectModelListFormatter, Luminis.Its.Services.Rest"
                name="ObjectModelsHtmlFormatter">
            <typeConfig>
              <constructor>
                <param name="objectModelService" parameterType="Luminis.Its.Services.ObjectModels.IObjectModelService, Luminis.Its.Services.ObjectModels">
                  <dependency />
                </param>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="ListHtmlFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.ObjectModels.ObjectModelListFormatter, Luminis.Its.Services.Rest"
                name="ObjectModelsXmlFormatter">
            <typeConfig>
              <constructor>
                <param name="objectModelService" parameterType="Luminis.Its.Services.ObjectModels.IObjectModelService, Luminis.Its.Services.ObjectModels">
                  <dependency />
                </param>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="XmlFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.ObjectModels.ObjectModelSummaryFormatter, Luminis.Its.Services.Rest"
                name="ObjectModelSummaryHtmlFormatter">
            <typeConfig>
              <constructor>
                <param name="objectModelService" parameterType="Luminis.Its.Services.ObjectModels.IObjectModelService, Luminis.Its.Services.ObjectModels">
                  <dependency />
                </param>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="SummaryHtmlFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.ObjectModels.ObjectModelSummaryFormatter, Luminis.Its.Services.Rest"
                name="ObjectModelSummaryXmlFormatter">
            <typeConfig>
              <constructor>
                <param name="objectModelService" parameterType="Luminis.Its.Services.ObjectModels.IObjectModelService, Luminis.Its.Services.ObjectModels">
                  <dependency />
                </param>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="XmlFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.ObjectModels.ObjectModelXmlFormatter, Luminis.Its.Services.Rest"
                name="ObjectModelFormatter">
            <typeConfig>
              <constructor>
                <param name="objectModelService" parameterType="Luminis.Its.Services.ObjectModels.IObjectModelService, Luminis.Its.Services.ObjectModels">
                  <dependency />
                </param>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="XmlFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.ObjectModels.ObjectModelXmlSchemaFormatter, Luminis.Its.Services.Rest"
                name="ObjectModel.xsdFormatter">
            <typeConfig>
              <constructor>
                <param name="objectModelService" parameterType="Luminis.Its.Services.ObjectModels.IObjectModelService, Luminis.Its.Services.ObjectModels">
                  <dependency />
                </param>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="XmlFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>

          <!-- Repository Commands and Formatters -->
          <type type="Luminis.Its.Services.Rest.Impl.ICommand, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Commands.Repository.GetRepositoryListCommand, Luminis.Its.Services.Rest"
                name="GETRepositorysCommand"/>
          <type type="Luminis.Its.Services.Rest.Impl.ICommand, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Commands.Repository.GetRepositoryXmlSchemaCommand, Luminis.Its.Services.Rest"
                name="GETRepositoryXmlSchemaCommand"/>
          <type type="Luminis.Its.Services.Rest.Impl.ICommand, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Commands.Repository.GetRepositoryXmlSchemasCommand, Luminis.Its.Services.Rest"
                name="GETRepositoryXmlSchemasCommand"/>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.ChainedXmlFormatter, Luminis.Its.Services.Rest"
                name="RepositorysHtmlFormatter">
            <typeConfig>
              <constructor>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="ListHtmlFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.XmlFormatter, Luminis.Its.Services.Rest"
                name="RepositorysXmlFormatter"/>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.XmlFormatter, Luminis.Its.Services.Rest"
                name="RepositoryXmlSchema.xsdFormatter"/>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.ChainedXmlFormatter, Luminis.Its.Services.Rest"
                name="RepositoryXmlSchemasHtmlFormatter">
            <typeConfig>
              <constructor>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="ListHtmlFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.XmlFormatter, Luminis.Its.Services.Rest"
                name="RepositoryXmlSchemasXmlFormatter"/>

          <!-- Representation Commands and Formatters -->
          <type type="Luminis.Its.Services.Rest.Impl.ICommand, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Commands.Representations.GetRepresentationByTimePointCommand, Luminis.Its.Services.Rest"
                name="GETRepresentationTimePointCommand"/>
          <type type="Luminis.Its.Services.Rest.Impl.ICommand, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Commands.Representations.GetRepresentationByVersionCommand, Luminis.Its.Services.Rest"
                name="GETRepresentationVersionCommand"/>
          <type type="Luminis.Its.Services.Rest.Impl.ICommand, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Commands.Representations.GetLatestRepresentationCommand, Luminis.Its.Services.Rest"
                name="GETRepresentationCommand"/>
          <type type="Luminis.Its.Services.Rest.Impl.ICommand, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Commands.Representations.GetRepresentationsCommand, Luminis.Its.Services.Rest"
                name="GETRepresentationsCommand"/>
          <type type="Luminis.Its.Services.Rest.Impl.ICommand, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Commands.Representations.StoreRepresentationCommand, Luminis.Its.Services.Rest"
                name="PUTRepresentationCommand"/>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.Representations.RepresentationHistoryFormatter, Luminis.Its.Services.Rest"
                name="RepresentationHistoryHtmlFormatter">
            <typeConfig>
              <constructor>
                <param name="representationService" parameterType="Luminis.Its.Services.Representations.IRepresentationService, Luminis.Its.Services.Representations">
                  <dependency />
                </param>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="HistoryHtmlFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.Representations.RepresentationHistoryFormatter, Luminis.Its.Services.Rest"
                name="RepresentationHistoryXmlFormatter">
            <typeConfig>
              <constructor>
                <param name="representationService" parameterType="Luminis.Its.Services.Representations.IRepresentationService, Luminis.Its.Services.Representations">
                  <dependency />
                </param>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="XmlFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.Representations.RepresentationListFormatter, Luminis.Its.Services.Rest"
                name="RepresentationsHtmlFormatter">
            <typeConfig>
              <constructor>
                <param name="representationService" parameterType="Luminis.Its.Services.Representations.IRepresentationService, Luminis.Its.Services.Representations">
                  <dependency />
                </param>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="ListHtmlFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.Representations.RepresentationListFormatter, Luminis.Its.Services.Rest"
                name="RepresentationsXmlFormatter">
            <typeConfig>
              <constructor>
                <param name="representationService" parameterType="Luminis.Its.Services.Representations.IRepresentationService, Luminis.Its.Services.Representations">
                  <dependency />
                </param>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="XmlFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.Representations.RepresentationSummaryFormatter, Luminis.Its.Services.Rest"
                name="RepresentationSummaryHtmlFormatter">
            <typeConfig>
              <constructor>
                <param name="representationService" parameterType="Luminis.Its.Services.Representations.IRepresentationService, Luminis.Its.Services.Representations">
                  <dependency />
                </param>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="SummaryHtmlFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.Representations.RepresentationSummaryFormatter, Luminis.Its.Services.Rest"
                name="RepresentationSummaryXmlFormatter">
            <typeConfig>
              <constructor>
                <param name="representationService" parameterType="Luminis.Its.Services.Representations.IRepresentationService, Luminis.Its.Services.Representations">
                  <dependency />
                </param>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="XmlFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.Representations.RepresentationXmlFormatter, Luminis.Its.Services.Rest"
                name="RepresentationFormatter">
            <typeConfig>
              <constructor>
              <param name="representationService" parameterType="Luminis.Its.Services.Representations.IRepresentationService, Luminis.Its.Services.Representations">
                <dependency />
              </param>
              <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                <dependency name="XmlFormatter"/>
              </param>
            </constructor>
            </typeConfig>
          </type>

          <!-- Resource Commands and Formatters -->
          <type type="Luminis.Its.Services.Rest.Impl.ICommand, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Commands.Resources.GetResourceByTimePointCommand, Luminis.Its.Services.Rest"
                name="GETResourceTimePointCommand"/>
          <type type="Luminis.Its.Services.Rest.Impl.ICommand, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Commands.Resources.GetResourceByVersionCommand, Luminis.Its.Services.Rest"
                name="GETResourceVersionCommand"/>
          <type type="Luminis.Its.Services.Rest.Impl.ICommand, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Commands.Resources.GetLatestResourceCommand, Luminis.Its.Services.Rest"
                name="GETResourceCommand"/>
          <type type="Luminis.Its.Services.Rest.Impl.ICommand, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Commands.Resources.GetResourcesCommand, Luminis.Its.Services.Rest"
                name="GETResourcesCommand"/>
          <type type="Luminis.Its.Services.Rest.Impl.ICommand, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Commands.Resources.StoreResourceCommand, Luminis.Its.Services.Rest"
                name="PUTResourceCommand"/>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.Resources.ResourceHistoryFormatter, Luminis.Its.Services.Rest"
                name="ResourceHistoryHtmlFormatter">
            <typeConfig>
              <constructor>
                <param name="resourceService" parameterType="Luminis.Its.Services.Resources.IResourceService, Luminis.Its.Services.Resources">
                  <dependency />
                </param>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="HistoryHtmlFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.Resources.ResourceHistoryFormatter, Luminis.Its.Services.Rest"
                name="ResourceHistoryXmlFormatter">
            <typeConfig>
              <constructor>
                <param name="resourceService" parameterType="Luminis.Its.Services.Resources.IResourceService, Luminis.Its.Services.Resources">
                  <dependency />
                </param>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="XmlFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.Resources.ResourceListFormatter, Luminis.Its.Services.Rest"
                name="ResourcesHtmlFormatter">
            <typeConfig>
              <constructor>
                <param name="resourceService" parameterType="Luminis.Its.Services.Resources.IResourceService, Luminis.Its.Services.Resources">
                  <dependency />
                </param>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="ListHtmlFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.Resources.ResourceListFormatter, Luminis.Its.Services.Rest"
                name="ResourcesXmlFormatter">
            <typeConfig>
              <constructor>
                <param name="resourceService" parameterType="Luminis.Its.Services.Resources.IResourceService, Luminis.Its.Services.Resources">
                  <dependency />
                </param>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="XmlFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.Resources.ResourceSummaryFormatter, Luminis.Its.Services.Rest"
                name="ResourceSummaryHtmlFormatter">
            <typeConfig>
              <constructor>
                <param name="resourceService" parameterType="Luminis.Its.Services.Resources.IResourceService, Luminis.Its.Services.Resources">
                  <dependency />
                </param>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="SummaryHtmlFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.Resources.ResourceSummaryFormatter, Luminis.Its.Services.Rest"
                name="ResourceSummaryXmlFormatter">
            <typeConfig>
              <constructor>
                <param name="resourceService" parameterType="Luminis.Its.Services.Resources.IResourceService, Luminis.Its.Services.Resources">
                  <dependency />
                </param>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="XmlFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.Resources.ResourceFormatter, Luminis.Its.Services.Rest"
                name="ResourceFormatter"/>

          <!-- Rule Commands and Formatters -->
          <type type="Luminis.Its.Services.Rest.Impl.ICommand, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Commands.Rules.GetRuleByTimePointCommand, Luminis.Its.Services.Rest"
                name="GETRuleTimePointCommand"/>
          <type type="Luminis.Its.Services.Rest.Impl.ICommand, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Commands.Rules.GetRuleByVersionCommand, Luminis.Its.Services.Rest"
                name="GETRuleVersionCommand"/>
          <type type="Luminis.Its.Services.Rest.Impl.ICommand, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Commands.Rules.GetLatestRuleCommand, Luminis.Its.Services.Rest"
                name="GETRuleCommand"/>
          <type type="Luminis.Its.Services.Rest.Impl.ICommand, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Commands.Rules.GetRulesCommand, Luminis.Its.Services.Rest"
                name="GETRulesCommand"/>
          <type type="Luminis.Its.Services.Rest.Impl.ICommand, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Commands.Rules.ExecuteRuleByTimePointCommand, Luminis.Its.Services.Rest"
                name="POSTRuleTimePointCommand"/>
          <type type="Luminis.Its.Services.Rest.Impl.ICommand, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Commands.Rules.ExecuteRuleByVersionCommand, Luminis.Its.Services.Rest"
                name="POSTRuleVersionCommand"/>
          <type type="Luminis.Its.Services.Rest.Impl.ICommand, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Commands.Rules.ExecuteLatestRuleCommand, Luminis.Its.Services.Rest"
                name="POSTRuleCommand"/>
          <type type="Luminis.Its.Services.Rest.Impl.ICommand, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Commands.Rules.StoreRuleCommand, Luminis.Its.Services.Rest"
                name="PUTRuleCommand"/>

          <!-- *************************************************************************************************************** -->

          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.Rules.RuleHistoryFormatter, Luminis.Its.Services.Rest"
                name="RuleHistoryHtmlFormatter">
            <typeConfig>
              <constructor>
                <param name="ruleService" parameterType="Luminis.Its.Services.Rules.IRuleService, Luminis.Its.Services.Rules">
                  <dependency />
                </param>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="HistoryHtmlFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.Rules.RuleHistoryFormatter, Luminis.Its.Services.Rest"
                name="RuleHistoryXmlFormatter">
            <typeConfig>
              <constructor>
                <param name="ruleService" parameterType="Luminis.Its.Services.Rules.IRuleService, Luminis.Its.Services.Rules">
                  <dependency />
                </param>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="XmlFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.Rules.RuleListFormatter, Luminis.Its.Services.Rest"
                name="RulesHtmlFormatter">
            <typeConfig>
              <constructor>
                <param name="ruleService" parameterType="Luminis.Its.Services.Rules.IRuleService, Luminis.Its.Services.Rules">
                  <dependency />
                </param>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="ListHtmlFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.Rules.RuleListFormatter, Luminis.Its.Services.Rest"
                name="RulesXmlFormatter">
            <typeConfig>
              <constructor>
                <param name="ruleService" parameterType="Luminis.Its.Services.Rules.IRuleService, Luminis.Its.Services.Rules">
                  <dependency />
                </param>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="XmlFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.Rules.RuleSummaryFormatter, Luminis.Its.Services.Rest"
                name="RuleSummaryHtmlFormatter">
            <typeConfig>
              <constructor>
                <param name="ruleService" parameterType="Luminis.Its.Services.Rules.IRuleService, Luminis.Its.Services.Rules">
                  <dependency />
                </param>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="SummaryHtmlFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.Rules.RuleSummaryFormatter, Luminis.Its.Services.Rest"
                name="RuleSummaryXmlFormatter">
            <typeConfig>
              <constructor>
                <param name="ruleService" parameterType="Luminis.Its.Services.Rules.IRuleService, Luminis.Its.Services.Rules">
                  <dependency />
                </param>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="XmlFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>
          <type type="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest"
                mapTo="Luminis.Its.Services.Rest.Impl.Formatters.Rules.RuleXmlFormatter, Luminis.Its.Services.Rest"
                name="RuleFormatter">
            <typeConfig>
              <constructor>
                <param name="ruleService" parameterType="Luminis.Its.Services.Rules.IRuleService, Luminis.Its.Services.Rules">
                  <dependency/>
                </param>
                <param name="chain" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="XmlFormatter"/>
                </param>
                <param name="caseFileFormatter" parameterType="Luminis.Its.Services.Rest.Impl.IFormatter, Luminis.Its.Services.Rest">
                  <dependency name="CaseFileFormatter"/>
                </param>
              </constructor>
            </typeConfig>
          </type>

          <!-- General services -->
          <type type="Luminis.Logging.ILogger, Luminis.Logging"
                mapTo="Luminis.Logging.Log4Net.Log4NetLogger, Luminis.Logging">
          </type>
          <type type="Luminis.Unity.IUnity, Luminis.Unity" 
                mapTo="Luminis.Unity.Impl.UnityContainerWrapper, Luminis.Unity.Impl">
            <lifetime type="singleton" />
          </type>
        </types>
      </container>
    </containers>
  </unity>

  <system.serviceModel>
    <bindings>
      <customBinding>
        <binding name="customWebHttpBinding">
          <webMessageEncoding webContentTypeMapperType="Luminis.Its.Services.Rest.Extensions.AcceptAllWebContentTypeMapper, Luminis.Its.Services.Rest.Extensions"/>
          <httpTransport manualAddressing="true"/>
        </binding>
      </customBinding>
    </bindings>
    <services>
      <service name="Luminis.Its.Services.Console.RestServiceWrapper" behaviorConfiguration="Luminis.Its.RestService.Behavior">
        <host>
          <baseAddresses>
            <add baseAddress="http://localhost:8080"/>
          </baseAddresses>
        </host>
        <endpoint address="its"
                  binding="customBinding"
                  bindingConfiguration="customWebHttpBinding"
                  behaviorConfiguration="Luminis.Its.RestService.EndpointBehavior"
                  contract="Luminis.Its.Services.Rest.IRestService"/>
      </service>
    </services>
    <extensions>
      <behaviorExtensions>
        <add name ="customWebHttp" type="Luminis.Its.Services.Rest.Extensions.CustomizedErrorHandlingWebHttpBehaviorExtention, Luminis.Its.Services.Rest.Extensions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=4792803e79f11eb8"/>
      </behaviorExtensions>
    </extensions>
    <behaviors>
      <endpointBehaviors>
        <behavior name="Luminis.Its.RestService.EndpointBehavior">
          <customWebHttp/>
        </behavior>
      </endpointBehaviors>
      <serviceBehaviors>
        <behavior name="Luminis.Its.RestService.Behavior">
          <serviceMetadata httpGetEnabled="true"/>
          <serviceDebug includeExceptionDetailInFaults="true"/>
        </behavior>
      </serviceBehaviors>
    </behaviors>
  </system.serviceModel>

  <system.diagnostics>
    <sources>
      <source name="System.ServiceModel"
      switchValue="Verbose, ActivityTracing">
        <listeners>
          <add name="sdt"
               type="System.Diagnostics.XmlWriterTraceListener"
               initializeData= "Luminis.Its.Services.Console.Wcf-log.xml" />
        </listeners>
      </source>
    </sources>
  </system.diagnostics>

</configuration>
